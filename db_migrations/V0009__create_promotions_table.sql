-- Создание таблицы акций
CREATE TABLE IF NOT EXISTS promotions (
  id SERIAL PRIMARY KEY,
  title VARCHAR(255) NOT NULL,
  description TEXT NOT NULL,
  discount VARCHAR(50) NOT NULL,
  old_price VARCHAR(50),
  new_price VARCHAR(50) NOT NULL,
  valid_until VARCHAR(100) NOT NULL,
  icon VARCHAR(50) NOT NULL DEFAULT 'Percent',
  details TEXT NOT NULL,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Добавление существующих акций
INSERT INTO promotions (title, description, discount, old_price, new_price, valid_until, icon, details) VALUES
('Сезонное ТО', 'Комплексная диагностика + замена масла со скидкой 25%', '-25%', '6 000 ₽', '4 500 ₽', 'December 31, 2025 23:59:59', 'Percent', 'Включает проверку всех систем автомобиля, замену масла и масляного фильтра, диагностику ходовой части'),
('Шиномонтаж 4+1', 'При покупке 4 шин — шиномонтаж в подарок', 'Подарок', '8 000 ₽', '6 000 ₽', 'January 15, 2026 23:59:59', 'Gift', 'Покупайте 4 шины и получите бесплатный шиномонтаж, балансировку и утилизацию старых шин'),
('Первое посещение', 'Скидка 15% на любые услуги для новых клиентов', '-15%', '', 'На все', 'Постоянно', 'Sparkles', 'Скидка действует на все виды услуг при первом визите в наш автосервис'),
('Диагностика в подарок', 'Бесплатная комплексная диагностика при ремонте', 'Бесплатно', '2 000 ₽', '0 ₽', 'March 31, 2026 23:59:59', 'Search', 'При выполнении любого ремонта стоимостью от 5000 рублей — компьютерная диагностика бесплатно'),
('Замена тормозных колодок', 'Комплект колодок + работа со скидкой 20%', '-20%', '12 000 ₽', '9 600 ₽', 'February 28, 2026 23:59:59', 'Disc', 'Замена передних или задних тормозных колодок с проверкой тормозной системы'),
('Кондиционер — чистка + заправка', 'Полное обслуживание системы кондиционирования', '-30%', '7 000 ₽', '4 900 ₽', 'April 30, 2026 23:59:59', 'Wind', 'Антибактериальная обработка, заправка хладагентом, проверка герметичности системы');